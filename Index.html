<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ConSySencI.A ‚Äî N√≠vel 1 | Ativa√ß√£o do Sistema</title>
  <meta name="description" content="Ative seu sistema ConSySencI.A N√≠vel 1. Cole seu link de afiliado e gere 3 an√∫ncios prontos (manh√£, tarde e noite) + passo a passo de configura√ß√£o no AutoReply." />
  <meta name="theme-color" content="#070A12" />
  <style>
    :root{
      --bg:#070A12;
      --panel:#0B1220;
      --panel2:#0D1628;
      --text:#EAF2FF;
      --muted:#A6B3D0;
      --line:rgba(255,255,255,.10);
      --neon:#31F7A5;
      --neon2:#2BE6FF;
      --warn:#FFB020;
      --danger:#FF4D4D;
      --ok:#36F28D;
      --shadow: 0 14px 40px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:26px;
      --max: 1100px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(900px 520px at 15% 0%, rgba(49,247,165,.18), transparent 60%),
        radial-gradient(900px 520px at 95% 10%, rgba(43,230,255,.14), transparent 55%),
        radial-gradient(700px 500px at 50% 110%, rgba(49,247,165,.10), transparent 55%),
        linear-gradient(180deg, #050812, #070A12 40%, #05070F);
      min-height:100vh;
      padding: 28px 16px 70px;
    }

    .wrap{ max-width: var(--max); margin:0 auto; }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:18px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .badge{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, rgba(49,247,165,.28), rgba(43,230,255,.20));
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
      display:grid; place-items:center;
      position:relative;
      overflow:hidden;
    }
    .badge::after{
      content:"";
      position:absolute; inset:-40%;
      background: conic-gradient(from 200deg, rgba(49,247,165,.0), rgba(49,247,165,.35), rgba(43,230,255,.0));
      animation: spin 5.5s linear infinite;
    }
    .badge span{
      position:relative;
      font-weight:900;
      color: rgba(234,242,255,.95);
      text-shadow: 0 0 18px rgba(49,247,165,.22);
    }
    @keyframes spin{ to{ transform:rotate(360deg);} }

    .brand h1{
      margin:0;
      font-size: 18px;
      line-height:1.1;
      letter-spacing:.4px;
    }
    .brand p{
      margin:2px 0 0;
      font-size: 12.5px;
      color: var(--muted);
    }
    .chip{
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(13,22,40,.65);
      color: rgba(234,242,255,.9);
      display:flex;
      align-items:center;
      gap:8px;
      white-space:nowrap;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background: var(--ok);
      box-shadow: 0 0 14px rgba(54,242,141,.55);
    }

    .hero{
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(11,18,32,.78), rgba(7,10,18,.55));
      box-shadow: var(--shadow);
      padding: 22px 18px;
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-60px;
      background:
        radial-gradient(420px 220px at 30% 20%, rgba(49,247,165,.20), transparent 60%),
        radial-gradient(380px 220px at 85% 25%, rgba(43,230,255,.14), transparent 60%);
      pointer-events:none;
    }
    .hero .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 18px;
      position:relative;
    }
    @media (max-width: 860px){
      .hero .grid{ grid-template-columns: 1fr; }
    }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 12px;
      border-radius:999px;
      background: rgba(13,22,40,.70);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(234,242,255,.92);
      font-size:12.5px;
      width:fit-content;
      margin-bottom: 10px;
    }
    .kicker b{ color: var(--neon); }
    .hero h2{
      margin: 8px 0 8px;
      font-size: 30px;
      line-height: 1.08;
      letter-spacing: .2px;
    }
    .hero .sub{
      margin: 0 0 12px;
      color: rgba(234,242,255,.86);
      font-size: 14.5px;
      line-height: 1.55;
      max-width: 56ch;
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }
    .btn{
      appearance:none;
      border:0;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 750;
      font-size: 14px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:10px;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      user-select:none;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(49,247,165,.95), rgba(43,230,255,.70));
      color:#07101a;
      box-shadow: 0 16px 32px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.10) inset;
    }
    .btn.ghost{
      background: rgba(13,22,40,.55);
      color: rgba(234,242,255,.92);
      border: 1px solid rgba(255,255,255,.14);
    }
    .btn:hover{ filter: brightness(1.03); box-shadow: 0 18px 34px rgba(0,0,0,.42); }

    .panel{
      margin-top: 16px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 980px){
      .panel{ grid-template-columns: 1fr; }
    }
    .card{
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,18,32,.70);
      box-shadow: 0 12px 32px rgba(0,0,0,.35);
      padding: 16px;
    }
    .card h3{
      margin: 0 0 10px;
      font-size: 15px;
      letter-spacing: .2px;
    }
    .card p{
      margin: 0 0 12px;
      color: rgba(234,242,255,.82);
      font-size: 13.5px;
      line-height:1.55;
    }

    .field{
      display:grid;
      gap:8px;
    }
    label{
      font-size: 12.5px;
      color: rgba(234,242,255,.88);
    }
    .inputRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    input[type="url"], input[type="text"]{
      flex: 1 1 420px;
      min-width: 240px;
      background: rgba(7,10,18,.55);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(234,242,255,.92);
      border-radius: 14px;
      padding: 12px 12px;
      outline:none;
      font-size: 14px;
    }
    input::placeholder{ color: rgba(166,179,208,.65); }
    .hint{
      font-size: 12px;
      color: rgba(166,179,208,.92);
      line-height: 1.45;
    }
    .hint b{ color: var(--neon); }

    .status{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(13,22,40,.55);
      display:flex;
      gap:10px;
      align-items:flex-start;
      color: rgba(234,242,255,.88);
      font-size: 12.8px;
      line-height:1.45;
    }
    .status .icon{
      width:22px;height:22px;border-radius:10px;
      background: rgba(49,247,165,.16);
      border: 1px solid rgba(49,247,165,.35);
      display:grid; place-items:center;
      flex:0 0 auto;
    }
    .status.warn .icon{
      background: rgba(255,176,32,.14);
      border-color: rgba(255,176,32,.35);
    }
    .status.danger .icon{
      background: rgba(255,77,77,.12);
      border-color: rgba(255,77,77,.35);
    }

    .gen{
      margin-top: 12px;
      display:grid;
      gap: 12px;
    }
    .msg{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(7,10,18,.55);
      padding: 12px;
      overflow:hidden;
    }
    .msgHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
      flex-wrap:wrap;
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(11,18,32,.70);
      font-size: 12px;
      color: rgba(234,242,255,.9);
      white-space:nowrap;
    }
    .tag b{ color: var(--neon); }
    .mini{
      font-size: 12px;
      color: rgba(166,179,208,.95);
      line-height: 1.45;
    }
    textarea{
      width:100%;
      min-height: 188px;
      resize: vertical;
      background: transparent;
      border: 0;
      color: rgba(234,242,255,.92);
      font-family: var(--mono);
      font-size: 13px;
      line-height: 1.45;
      outline:none;
      padding: 0;
      white-space: pre-wrap;
    }

    .step{
      display:grid;
      gap: 10px;
      margin-top: 14px;
    }
    .stepItem{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,18,32,.70);
      padding: 14px;
    }
    .stepItem h4{
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .num{
      width:24px;height:24px;border-radius:10px;
      background: rgba(49,247,165,.16);
      border: 1px solid rgba(49,247,165,.35);
      display:grid; place-items:center;
      color: rgba(234,242,255,.95);
      font-weight:800;
      font-size: 12px;
      flex:0 0 auto;
    }
    .stepItem p{
      margin:0;
      color: rgba(234,242,255,.84);
      font-size: 13.5px;
      line-height:1.6;
    }
    .stepItem ul{
      margin: 8px 0 0;
      padding-left: 18px;
      color: rgba(234,242,255,.84);
      font-size: 13.5px;
      line-height:1.6;
    }

    .footer{
      margin-top: 18px;
      text-align:center;
      color: rgba(166,179,208,.92);
      font-size: 12.5px;
    }
    .footer b{ color: var(--neon); }

    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 980px){
      .row2{ grid-template-columns: 1fr; }
    }

    .divider{
      height:1px;
      background: rgba(255,255,255,.10);
      margin: 12px 0;
    }
    .smallcaps{
      font-size: 11.5px;
      text-transform: uppercase;
      letter-spacing: .12em;
      color: rgba(166,179,208,.9);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="badge" aria-hidden="true"><span>üß†</span></div>
        <div>
          <h1>ConSySencI.A ‚Äî N√≠vel 1</h1>
          <p>Ativa√ß√£o do Sistema ‚Ä¢ Autoreply (gr√°tis) ‚Ä¢ Escala + Ecossistema</p>
        </div>
      </div>
      <div class="chip"><span class="dot"></span> Pronto para copiar e colar</div>
    </div>

    <section class="hero" id="topo">
      <div class="grid">
        <div>
          <div class="kicker">üîì <b>ATIVA√á√ÉO</b> ‚Ä¢ Voc√™ entrou no ecossistema</div>
          <h2>Voc√™ n√£o comprou um produto.<br/>Voc√™ ativou um sistema vivo.</h2>
          <p class="sub">
            Cole o seu <b>link de afiliado</b> abaixo e o sistema vai gerar <b>3 an√∫ncios prontos</b>
            (manh√£, tarde e noite) j√° com o seu link ‚Äî e te guiar no passo a passo para criar as regras no <b>AutoReply</b>. https://play.google.com/store/apps/details?id=com.pransuinc.autoreply
          </p>
          <div class="actions">
            <button class="btn primary" id="btnScroll">Ativar meu sistema agora ‚úÖ</button>
            <button class="btn ghost" id="btnReset">Apagar dados desta p√°gina</button>
          </div>
        </div>

        <div class="card">
          <h3>‚úÖ O que voc√™ vai sair daqui com tudo pronto</h3>
          <p>
            ‚Ä¢ 3 varia√ß√µes de texto j√° com seu link (copiar/colar)<br/>
            ‚Ä¢ Hor√°rios sugeridos (manh√£/tarde/noite)<br/>
            ‚Ä¢ Passo a passo: regra 1 + duplica√ß√£o para regra 2 e 3<br/>
            ‚Ä¢ Configura√ß√£o opcional: ignorar grupos que voc√™ n√£o quer enviar
          </p>
          <div class="divider"></div>
          <p class="mini">
            <span class="smallcaps">Recomendado</span><br/>
            Comece com AutoReply (gr√°tis e sem limites). Depois, se quiser, evolua para ferramentas mais avan√ßadas.
          </p>
        </div>
      </div>
    </section>

    <div class="panel" id="ativacao">
      <section class="card">
        <h3>üîó Cole seu link de afiliado aqui</h3>
        <p>
          Esse link ser√° colocado automaticamente no final das 3 mensagens.
          Pode ser do seu painel (ex.: consysencia.com com seu par√¢metro).
        </p>

        <div class="field">
          <label for="affiliateLink">Seu link de afiliado</label>
          <div class="inputRow">
            <input id="affiliateLink" type="url" placeholder="Ex.: https://consysencia.com/?ref=SEUUSUARIO" autocomplete="off" />
            <button class="btn primary" id="btnGenerate">Gerar meus 3 an√∫ncios</button>
            <button class="btn ghost" id="btnCopyLink">Copiar meu link</button>
          </div>
          <div class="hint">
            Dica: se o seu link estiver correto, voc√™ vai ver <b>‚ÄúLink validado ‚úÖ‚Äù</b> logo abaixo.
          </div>
        </div>

        <div class="status warn" id="statusBox" role="status" aria-live="polite">
          <div class="icon">‚ÑπÔ∏è</div>
          <div id="statusText">
            Cole seu link de afiliado e clique em <b>Gerar meus 3 an√∫ncios</b>.
          </div>
        </div>

        <div class="divider"></div>

        <h3>üìå Link base (cat√°logo)</h3>
        <p class="mini">
          O rob√¥ sempre aponta para a lista completa de ofertas e fecha com o seu link de afiliado.
        </p>
        <div class="msg">
          <div class="msgHeader">
            <div class="tag">üìå Cat√°logo base: <b>consysencia.com</b></div>
            <button class="btn ghost" data-copy="baseCatalog">Copiar</button>
          </div>
          <textarea id="baseCatalog" readonly>https://consysencia.com/</textarea>
        </div>
      </section>

      <section class="card">
        <h3>üß∞ KIT DE ATIVA√á√ÉO COMPLETO ‚Äî N√≠vel 1</h3>
        <p>
          Isso aqui √© a entrega real do n√≠vel 1: sistema + opera√ß√£o + escala.
        </p>

        <div class="status" style="margin-top:0;">
          <div class="icon">‚úÖ</div>
          <div>
            <b>Sistema</b>: an√∫ncios autom√°ticos rodando em grupos.<br/>
            <b>Ecossistema</b>: voc√™ cresce com o alcance do ConSySencI.A.<br/>
            <b>Longo prazo</b>: voc√™ come√ßa simples, evolui se quiser.<br/>
            <b>Cresce com voc√™</b>: o kit vira rotina di√°ria e escal√°vel.
          </div>
        </div>

        <div class="divider"></div>

        <h3>‚ö° Resultado final</h3>
        <p class="mini">
          Voc√™ vai ter 3 mensagens (manh√£/tarde/noite) prontas para colocar no AutoReply.
          Depois voc√™ pode duplicar e criar mais hor√°rios (madrugada, promo√ß√µes, etc.) sem retrabalho.
        </p>

        <div class="actions">
          <button class="btn ghost" id="btnCopyAll">Copiar os 3 an√∫ncios (um por vez)</button>
          <button class="btn primary" id="btnScrollSteps">Ir para o passo a passo</button>
        </div>
      </section>
    </div>

    <section class="card" style="margin-top:14px;">
      <h3>üì£ Seus 3 an√∫ncios prontos (j√° com seu link)</h3>
      <p class="mini">
        Gere as mensagens e copie/cole no AutoReply. As varia√ß√µes mudam abertura, energia e contexto (manh√£/tarde/noite) mantendo o mesmo n√∫cleo.
      </p>

      <div class="gen" id="messagesArea">
        <!-- mensagens geradas aqui -->
      </div>

      <div class="status warn" id="genTip" style="display:none;">
        <div class="icon">üí°</div>
        <div>
          <b>Melhoria sugerida:</b> use <b>3 palavras-chave diferentes</b> para cada hor√°rio (ex.: ‚Äúbom dia‚Äù, ‚Äúboa tarde‚Äù, ‚Äúboa noite‚Äù) para evitar repeti√ß√£o e aumentar disparos naturais ou use a op√ß√£o responder todas e deixe um intervalo m√≠nimo de tempo exemplo: 8h √†s 8h30.
        </div>
      </div>
    </section>

    <div class="row2">
      <section class="card" id="passoapasso">
        <h3>üß≠ Passo a passo (AutoReply) ‚Äî 1¬™ regra + duplica√ß√µes</h3>
        <p class="mini">
          Esse guia √© pensado para ser <b>r√°pido</b> e <b>sem erro</b>. Algumas telas podem mudar conforme a vers√£o do app, mas a l√≥gica √© a mesma.
        </p>

        <div class="step">
          <div class="stepItem">
            <h4><span class="num">0</span> Antes de come√ßar (limpeza)</h4>
            <p>
              Para evitar conflito, <b>apague/desative regras antigas</b> que voc√™ n√£o usa mais.
              Isso √© essencial para o rob√¥ n√£o enviar mensagens duplicadas.
            </p>
            <ul>
              <li>Abra o AutoReply</li>
              <li>V√° em <b>Regras / Rules</b></li>
              <li>Remova ou desative regras antigas</li>
            </ul>
          </div>

          <div class="stepItem">
            <h4><span class="num">1</span> (Opcional) Ignorar grupos que voc√™ n√£o quer enviar</h4>
            <p>
              Voc√™ pode escolher <b>n√£o enviar</b> para alguns grupos (fam√≠lia, trabalho, etc.).  
              Isso √© <b>opcional</b> ‚Äî fa√ßa se quiser mais controle.
            </p>
            <ul>
              <li>Procure por algo como <b>Exce√ß√µes / Excluded chats / Ignore list</b></li>
              <li>Selecione os grupos que voc√™ n√£o quer atingir</li>
              <li>Salve</li>
            </ul>
          </div>

          <div class="stepItem">
            <h4><span class="num">2</span> Criar a Regra 1 (Manh√£)</h4>
            <p>
              Crie sua primeira regra usando a mensagem <b>MANH√É</b> (copie aqui na p√°gina).
              Defina um hor√°rio fixo (sugest√£o: <b>08:30</b>).
            </p>
            <ul>
              <li>Crie uma nova regra</li>
              <li>Escolha o WhatsApp (pessoal ou business, conforme voc√™ usa)</li>
              <li>Defina hor√°rios in√≠cio e fim (ex.: 08:30 √†s 09:00)</li>
              <li>Cole o texto <b>MANH√É</b></li>
              <li>Salve</li>
            </ul>
          </div>

          <div class="stepItem">
            <h4><span class="num">3</span> Duplicar para Regra 2 (Tarde) sem refazer tudo</h4>
            <p>
              Agora vem o ‚Äúhack‚Äù: em vez de criar outra regra do zero, voc√™ abre a regra da manh√£,
              muda o hor√°rio e o texto, e <b>salva como uma nova regra</b>.
            </p>
            <ul>
              <li>Abra a Regra 1 novamente</li>
              <li>Edite o hor√°rio (sugest√£o: <b>14:30 √†s 15:00</b>)</li>
              <li>Troque o texto para <b>TARDE</b></li>
              <li>Role at√© o fim e toque em <b>Salvar</b> (ou ‚ÄúSalvar como‚Äù se aparecer)</li>
              <li>Confira se a nova regra foi criada</li>
            </ul>
          </div>

          <div class="stepItem">
            <h4><span class="num">4</span> Repetir para Regra 3 (Noite)</h4>
            <p>
              Repita o mesmo processo: entre na regra rec√©m-criada (Tarde), edite o hor√°rio e o texto,
              e salve novamente.
            </p>
            <ul>
              <li>Abra a Regra 2</li>
              <li>Edite o hor√°rio (sugest√£o: <b>20:30 √†s 21:00</b>)</li>
              <li>Troque o texto para <b>NOITE</b></li>
              <li>Salve</li>
            </ul>
          </div>

          <div class="stepItem">
            <h4><span class="num">5</span> Pronto: 3 an√∫ncios rodando (manh√£, tarde e noite)</h4>
            <p>
              Agora voc√™ j√° tem o N√≠vel 1 <b>operando sozinho</b>.  
              Se quiser escalar depois: crie ‚ÄúMadrugada‚Äù, ‚ÄúPromo Rel√¢mpago‚Äù e ‚ÄúNovidades‚Äù duplicando o mesmo padr√£o.
            </p>
          </div>
        </div>
      </section>

      <section class="card">
        <h3>üß† Melhorias que aumentam resultado (sem complicar)</h3>
        <p class="mini">Se quiser ir al√©m do b√°sico, aqui est√£o upgrades simples e muito eficazes.</p>

        <div class="step">
          <div class="stepItem">
            <h4><span class="num">A</span> Use palavras-chave por hor√°rio</h4>
            <p>
              Ex.: Manh√£ (<b>bom dia</b>), Tarde (<b>boa tarde</b>), Noite (<b>boa noite</b>).  
              Isso deixa o rob√¥ ‚Äúnatural‚Äù e aumenta disparos por contexto.
            </p>
          </div>

          <div class="stepItem">
            <h4><span class="num">B</span> Rod√≠zio de mensagens (anti-repeti√ß√£o)</h4>
            <p>
              Depois que isso estiver rodando, voc√™ pode criar uma 4¬™ mensagem ‚Äúvariante extra‚Äù e alternar semanalmente.
              (Mesmo link, abertura diferente).
            </p>
          </div>

          <div class="stepItem">
            <h4><span class="num">C</span> Proteger seu link</h4>
            <p>
              Evite colar o link em v√°rios lugares fora do sistema.  
              Use sempre as mensagens prontas para manter padr√£o e rastreio.
            </p>
          </div>

          <div class="stepItem">
            <h4><span class="num">D</span> Evolu√ß√£o natural para Whatauto (opcional)</h4>
            <p>
              Quando voc√™ quiser follow-up inteligente (ex.: responder PV, segmentar), voc√™ adiciona o Whatauto como upgrade, ele tem um custo mensal de R$10 Reais, mas compensa muito, ele responde whatsapp, Instagram, Facebook, telegram, etc. https://play.google.com/store/apps/details?id=com.guibais.whatsauto ele tem teste gr√°tis limitado caso queira.
              O N√≠vel 1 continua com o AutoReply como base gratuita.
            </p>
          </div>
        </div>

        <div class="status" style="margin-top:14px;">
          <div class="icon">‚ö°</div>
          <div>
            <b>Regra de ouro:</b> comece simples, rode por 3 dias, depois s√≥ ajuste hor√°rio e texto.
            O sistema cresce com consist√™ncia.
          </div>
        </div>
      </section>
    </div>

    <div class="footer">
      ConSySencI.A ‚Ä¢ N√≠vel 1 ‚Äî Ativa√ß√£o do Sistema ‚Ä¢ <b>Opera√ß√£o simples, escala real</b>
    </div>
  </div>

  <script>
    // ====== Helpers ======
    const $ = (id) => document.getElementById(id);
    const scrollToEl = (el) => el?.scrollIntoView({behavior:"smooth", block:"start"});

    function isLikelyUrl(u){
      try{
        const url = new URL(u);
        return (url.protocol === "http:" || url.protocol === "https:") && url.hostname.length > 1;
      }catch(e){ return false; }
    }

    function setStatus(type, html){
      const box = $("statusBox");
      const text = $("statusText");
      box.classList.remove("warn","danger");
      if(type) box.classList.add(type);
      text.innerHTML = html;
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        return true;
      }catch(e){
        // fallback
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        try{
          document.execCommand("copy");
          document.body.removeChild(ta);
          return true;
        }catch(err){
          document.body.removeChild(ta);
          return false;
        }
      }
    }

    function safeLinkDisplay(link){
      // keep as is; could add minimal trimming
      return link.trim();
    }

    // ====== Message generator ======
    function buildMessages(affiliateLink){
      const link = safeLinkDisplay(affiliateLink);

      const catalog = "https://consysencia.com/";

      // Core block (must keep user's original nucleus)
      // We'll inject affiliate link at the end (as requested).
      const core = (titleLine, extraLine) => `
${titleLine}

Confira abaixo algumas oportunidades dispon√≠veis agora:

‚úî Produtos digitais
‚úî Ferramentas autom√°ticas
‚úî Solu√ß√µes que vendem todos os dias

${extraLine}

üöÄ Acesse por aqui:
üëâ ${link}
`.trim();

      const morning = core(
        "‚òÄÔ∏è BOM DIA ‚Äî OFERTAS ATIVAS | SISTEMA ConSySencI.A",
        "üí° Dica r√°pida: escolha 1 oferta e ative agora. Consist√™ncia = resultado."
      );

      const afternoon = core(
        "üå§Ô∏è BOA TARDE ‚Äî OPORTUNIDADES ATIVAS | SISTEMA ConSySencI.A",
        "‚ö° Se voc√™ perdeu pela manh√£, ainda d√° tempo: pegue 1 oportunidade e avance hoje."
      );

      const night = core(
        "üåô BOA NOITE ‚Äî √öLTIMAS OPORTUNIDADES DO DIA | SISTEMA ConSySencI.A",
        "üß† Movimento simples: abra a lista, escolha 1, e rode o sistema. Amanh√£ voc√™ repete e escala."
      );

      return [
        { key:"manha", label:"MANH√É (sugest√£o: 08:30)", note:"Use palavras-chave: bom dia", text: morning },
        { key:"tarde", label:"TARDE (sugest√£o: 14:30)", note:"Use palavras-chave: boa tarde", text: afternoon },
        { key:"noite", label:"NOITE (sugest√£o: 20:30)", note:"Use palavras-chave: boa noite", text: night },
      ];
    }

    function renderMessages(msgs){
      const area = $("messagesArea");
      area.innerHTML = "";

      msgs.forEach((m) => {
        const wrap = document.createElement("div");
        wrap.className = "msg";

        wrap.innerHTML = `
          <div class="msgHeader">
            <div>
              <div class="tag">üì£ <b>${m.label}</b></div>
              <div class="mini" style="margin-top:6px;">${m.note}</div>
            </div>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <button class="btn ghost" data-copy="${m.key}">Copiar</button>
            </div>
          </div>
          <textarea id="${m.key}" readonly></textarea>
        `;

        area.appendChild(wrap);
        $(m.key).value = m.text;
      });

      $("genTip").style.display = "flex";
    }

    // ====== Load saved link ======
    const saved = localStorage.getItem("consysencia_affiliate_link");
    if(saved){
      $("affiliateLink").value = saved;
      if(isLikelyUrl(saved)){
        setStatus("", `Link encontrado no seu dispositivo: <b>validado ‚úÖ</b><br/>Clique em <b>Gerar meus 3 an√∫ncios</b> para atualizar as mensagens.`);
      }
    }

    // ====== Events ======
    $("btnScroll").addEventListener("click", () => scrollToEl($("ativacao")));
    $("btnScrollSteps").addEventListener("click", () => scrollToEl($("passoapasso")));

    $("btnReset").addEventListener("click", () => {
      localStorage.removeItem("consysencia_affiliate_link");
      $("affiliateLink").value = "";
      $("messagesArea").innerHTML = "";
      $("genTip").style.display = "none";
      setStatus("warn", `Dados apagados. Cole seu link de afiliado e clique em <b>Gerar meus 3 an√∫ncios</b>.`);
      scrollToEl($("ativacao"));
    });

    $("affiliateLink").addEventListener("input", () => {
      const v = $("affiliateLink").value.trim();
      if(!v){
        setStatus("warn", `Cole seu link de afiliado e clique em <b>Gerar meus 3 an√∫ncios</b>.`);
        return;
      }
      if(!isLikelyUrl(v)){
        setStatus("danger", `Seu link parece inv√°lido. Use um link completo come√ßando com <b>https://</b>`);
        return;
      }
      setStatus("", `Link validado ‚úÖ<br/>Agora clique em <b>Gerar meus 3 an√∫ncios</b>.`);
    });

    $("btnGenerate").addEventListener("click", () => {
      const link = $("affiliateLink").value.trim();
      if(!link){
        setStatus("danger", `Cole seu link de afiliado antes de gerar.`);
        return;
      }
      if(!isLikelyUrl(link)){
        setStatus("danger", `Seu link parece inv√°lido. Use um link completo come√ßando com <b>https://</b>`);
        return;
      }

      localStorage.setItem("consysencia_affiliate_link", link);

      const msgs = buildMessages(link);
      renderMessages(msgs);

      setStatus("", `Mensagens geradas ‚úÖ<br/>Agora copie MANH√É, crie a Regra 1 no AutoReply, depois duplique para TARDE e NOITE.`);
      scrollToEl($("messagesArea"));
    });

    $("btnCopyLink").addEventListener("click", async () => {
      const link = $("affiliateLink").value.trim();
      if(!link){
        setStatus("danger", `N√£o h√° link para copiar.`);
        return;
      }
      const ok = await copyText(link);
      setStatus(ok ? "" : "warn", ok
        ? `Link copiado ‚úÖ`
        : `N√£o consegui copiar automaticamente. Selecione o link e copie manualmente.`);
    });

    // Copy buttons (delegation)
    document.addEventListener("click", async (e) => {
      const btn = e.target.closest("button[data-copy]");
      if(!btn) return;
      const id = btn.getAttribute("data-copy");
      const el = $(id);
      if(!el) return;

      const ok = await copyText(el.value);
      if(ok){
        btn.textContent = "Copiado ‚úÖ";
        setTimeout(() => btn.textContent = "Copiar", 1400);
      }else{
        btn.textContent = "Falhou üòï";
        setTimeout(() => btn.textContent = "Copiar", 1400);
      }
    });

    // "Copy all (one by one)" helper
    $("btnCopyAll").addEventListener("click", async () => {
      // copies first message found; user asked "um por vez"
      const ids = ["manha","tarde","noite"];
      for(const id of ids){
        const el = $(id);
        if(el && el.value){
          const ok = await copyText(el.value);
          setStatus(ok ? "" : "warn",
            ok
              ? `Copiei o an√∫ncio <b>${id.toUpperCase()}</b> ‚úÖ<br/>Cole no AutoReply e volte aqui para copiar o pr√≥ximo.`
              : `N√£o consegui copiar automaticamente o an√∫ncio <b>${id.toUpperCase()}</b>. Selecione e copie manualmente.`
          );
          return;
        }
      }
      setStatus("warn", `Gere os an√∫ncios primeiro para conseguir copiar.`);
    });
  </script>
</body>
</html>
